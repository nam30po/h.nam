<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Love 3D</title>
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet"/>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: "Parisienne", cursive;
      background: radial-gradient(circle at center, #200236, #000);
      perspective: 1000px;
      overscroll-behavior: none;
    }

    #scene {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
    }

    .falling-text {
      position: absolute;
      font-size: 18px;
      white-space: nowrap;
      pointer-events: none;
      user-select: none;
      animation: fadeInOut 2s infinite alternate;
      color: #fff;
      font-weight: bold;
      will-change: transform, top;
    }

    .text-1 { text-shadow: 0 0 2px #25d7fb; }
    .text-2 { text-shadow: 0 0 2px #00ff66; }
    .text-3 { text-shadow: 0 0 2px #ff63a2; }

    .heart, .rose {
      position: absolute;
      pointer-events: none;
      animation: float 3s infinite ease-in-out;
      will-change: transform, top;
    }

    .heart {
      width: 30px;
      height: 30px;
      clip-path: url(#heart);
    }

    .heart img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .rose {
      font-size: 20px;
      transform: rotate(45deg);
      text-shadow: 0 0 3px #7092a7;
    }

    @keyframes fadeInOut {
      from { opacity: 1; }
      to { opacity: 0.3; }
    }

    @keyframes float {
      0%,100% { transform: translateY(0); opacity: 0.2; }
      50% { transform: translateY(-10px); opacity: 1; }
    }

    /* Táº¯t animation náº¿u trÃªn mobile Ä‘á»ƒ nháº¹ hÆ¡n */
    @media (max-width: 768px) {
      .heart, .rose {
        animation: none !important;
      }
    }
  </style>
</head>
<body>
  <div id="scene"></div>
  <svg width="0" height="0">
    <defs>
      <clipPath id="heart" clipPathUnits="objectBoundingBox">
        <path d="M0.5,0.2 C0.35,-0.05,0,-0.01,0,0.3 C0,0.5,0.25,0.7,0.5,1 C0.75,0.7,1,0.5,1,0.3 C1,-0.01,0.65,-0.05,0.5,0.2Z"/>
      </clipPath>
    </defs>
  </svg>

  <script>
    const texts = [
      "I Love You", "â™¥ï¸ Diá»…m Quá»³nh â™¥ï¸", "ChÃºc Em 1/6 vui váº»!",
      "TÃ¬nh yÃªu mÃ£i mÃ£i", "YÃªu em khÃ´ng cáº§n lÃ½ do", "Je t'aime"
    ];
    const images = [
      "https://i.pinimg.com/736x/77/86/1a/77861aa910507e41754f68b5d60699b6.jpg",
      "https://i.pinimg.com/736x/c3/84/9e/c3849e2eba19a1e8155b7464f9b89da8.jpg"
    ];

    const scene = document.getElementById("scene");
    const activeElements = [];
    const MAX_ELEMENTS = 60;

    const getHeight = () => document.documentElement.clientHeight;

    function createElement(type) {
      if (activeElements.length >= MAX_ELEMENTS) return;

      const el = document.createElement("div");
      const x = Math.random() * window.innerWidth;
      const z = Math.random() * 200 - 100;
      let y = -30;

      if (type === "text") {
        el.className = `falling-text text-${Math.floor(Math.random() * 3) + 1}`;
        el.innerText = texts[Math.floor(Math.random() * texts.length)];
        el.style.fontSize = `${Math.random() * 8 + 16}px`;
      } else if (type === "heart") {
        el.className = "heart";
        el.innerHTML = `<img src="${images[Math.floor(Math.random() * images.length)]}" alt="â™¡"/>`;
      } else if (type === "rose") {
        el.className = "rose";
        el.innerText = "ðŸŒº";
        el.style.transform += ` rotate(${Math.random() * 360}deg)`;
      }

      el.style.left = `${x}px`;
      el.style.transform = `translateY(${y}px) translateZ(${z}px)`;
      scene.appendChild(el);

      activeElements.push({ el, y, speed: Math.random() * 1 + 0.5 });
    }

    function animateAll() {
      const height = getHeight();
      for (let i = activeElements.length - 1; i >= 0; i--) {
        const obj = activeElements[i];
        obj.y += obj.speed;

        // Thay vÃ¬ top, dÃ¹ng transform translateY
        obj.el.style.transform = `translateY(${obj.y}px) ${obj.el.style.transform.replace(/translateY\([^)]+\)/, '')}`;

        if (obj.y > height + 50) {
          obj.el.remove();
          activeElements.splice(i, 1);
        }
      }
      requestAnimationFrame(animateAll);
    }

    // Táº¡o ban Ä‘áº§u
    for (let i = 0; i < 25; i++) createElement("text");
    for (let i = 0; i < 10; i++) createElement("heart");
    for (let i = 0; i < 4; i++) createElement("rose");

    // LiÃªn tá»¥c thÃªm (giáº£m táº§n suáº¥t)
    setInterval(() => createElement("text"), 400);
    setInterval(() => createElement("heart"), 1000);
    setInterval(() => createElement("rose"), 1500);

    animateAll();
  </script>
</body>
</html>

